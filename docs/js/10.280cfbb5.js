(globalThis["webpackChunkplanetzoo_randomizer"]=globalThis["webpackChunkplanetzoo_randomizer"]||[]).push([[10],{8010:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>D});var n=i(1758),l=i(1412),o=i.n(l);const a={id:"box",style:{"max-width":"100%","background-color":"#555",padding:"10px","border-radius":"5px"}},s=(0,n.Lk)("img",{src:o(),style:{position:"fixed","z-index":"-1",top:"0",left:"0",width:"100%",height:"100%","object-fit":"cover",filter:"blur(2px)"}},null,-1);function d(e,t,i,l,o,d){const r=(0,n.g2)("animal-selector"),c=(0,n.g2)("q-page");return(0,n.uX)(),(0,n.Wv)(c,{class:"row items-center justify-evenly"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",a,[(0,n.bF)(r)]),s])),_:1})}const r={id:"box"};function c(e,t,i,l,o,a){const s=(0,n.g2)("animal-card"),d=(0,n.g2)("animal-filter");return(0,n.uX)(),(0,n.CE)("div",r,[(0,n.bF)(s,{animal:e.currentAnimal,index:e.currentAnimalIndex+1,max:e.animals.length,onClickRandomize:e.randomAnimal,onClickNext:e.nextAnimal,onClickPrevious:e.previousAnimal},null,8,["animal","index","max","onClickRandomize","onClickNext","onClickPrevious"]),(0,n.bF)(d,{onOnFilterUpdated:e.updateFilter},null,8,["onOnFilterUpdated"])])}var u=i(8734),m=i(4830);const p={id:"box",style:{width:"100%"}};function h(e,t,i,l,o,a){const s=(0,n.g2)("filter-group");return(0,n.uX)(),(0,n.CE)("div",p,[(0,n.bF)(s,{title:"Habitat",labels:["Exhibit","Habitat"],options:e.habitats,onOnUpdateValues:t[0]||(t[0]=t=>e.allowed_habitats=t)},null,8,["options"]),(0,n.bF)(s,{title:"Biome",options:e.biomes,onOnUpdateValues:t[1]||(t[1]=t=>e.allowed_biomes=t)},null,8,["options"]),(0,n.bF)(s,{title:"Continent",options:e.continents,onOnUpdateValues:t[2]||(t[2]=t=>e.allowed_continents=t)},null,8,["options"]),(0,n.bF)(s,{title:"DLC",options:e.dlcs,onOnUpdateValues:t[3]||(t[3]=t=>e.allowed_dlcs=t)},null,8,["options"])])}var b=i(8790);const g={class:"grid-wrapper"},v={class:"grid-title"},x={class:"grid"};function f(e,t,i,l,o,a){const s=(0,n.g2)("q-checkbox"),d=(0,n.g2)("q-btn");return(0,n.uX)(),(0,n.CE)("div",g,[(0,n.Lk)("h6",v,(0,b.v_)(e.title),1),(0,n.Lk)("div",x,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.options,((i,l)=>((0,n.uX)(),(0,n.Wv)(d,{key:i,style:(0,b.Tr)({"background-color":e.selectedValues.includes(i)?"white":"#FFFFFF50"}),align:"left","text-color":"black",onClick:()=>e.selectValue(i)},{default:(0,n.k6)((()=>[(0,n.bF)(s,{modelValue:e.selectedValues,"onUpdate:modelValue":t[0]||(t[0]=t=>e.selectedValues=t),val:i,label:e.option_labels[l]},null,8,["modelValue","val","label"])])),_:2},1032,["style","onClick"])))),128))])])}const k=(e,t)=>{if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!t.includes(e[i]))return!1;return!0},_=(0,n.pM)({props:{title:{type:String,requiered:!0},options:{type:Array,required:!0},labels:{type:Array}},emits:["onUpdateValues"],setup(e){var t;const i=(0,u.KR)([...e.options]);let n=[...i.value];return{selectedValues:i,previousSelectedValues:n,option_labels:null!==(t=e.labels)&&void 0!==t?t:e.options}},methods:{selectValue(e){this.selectedValues.includes(e)?this.removeValue(e):this.addValue(e)},removeValue(e){this.selectedValues=this.selectedValues.filter((t=>t!==e))},addValue(e){this.selectedValues.push(e)}},watch:{"selectedValues.length":function(e){0===e?this.selectedValues=[...this.previousSelectedValues]:k(this.previousSelectedValues,this.selectedValues)||(this.$emit("onUpdateValues",this.selectedValues),this.previousSelectedValues=[...this.selectedValues])}}});var w=i(2807),A=i(6183),V=i(2684),y=i(8582),F=i.n(y);const C=(0,w.A)(_,[["render",f],["__scopeId","data-v-04b267c9"]]),I=C;F()(_,"components",{QBtn:A.A,QCheckbox:V.A});const z=(0,n.pM)({emits:["onFilterUpdated"],components:{FilterGroup:I},setup(){const e=(0,m.T)(),t=["Exhibit","Full"],i=[...new Set(e.getAll().flatMap((e=>e.biomes)))].sort(),n=[...new Set(e.getAll().flatMap((e=>e.continents)))].sort(),l=[...new Set(e.getAll().map((e=>e.edition)))].sort(),o=(0,u.KR)([...t]),a=(0,u.KR)([...i]),s=(0,u.KR)([...n]),d=(0,u.KR)([...l]);return{habitats:t,biomes:i,dlcs:l,continents:n,allowed_habitats:o,allowed_biomes:a,allowed_continents:s,allowed_dlcs:d}},computed:{currentFilter(){return this.allowed_habitats.length,this.allowed_biomes.length,this.allowed_continents.length,this.allowed_dlcs.length,e=>this.allowed_habitats.includes(e.interactivity)&&void 0!==e.biomes.find((e=>this.allowed_biomes.includes(e)))&&void 0!==e.continents.find((e=>this.allowed_continents.includes(e)))&&this.allowed_dlcs.includes(e.edition)}},watch:{currentFilter:function(e){this.$emit("onFilterUpdated",e)}}}),R=(0,w.A)(z,[["render",h]]),U=R,L={style:{"border-radius":"5px",border:"1px solid white",display:"flex","flex-direction":"row",overflow:"hidden",position:"relative","align-items":"center",width:"100%",height:"250px"}},M=["src"],S={style:{padding:"15px",width:"100%",height:"100%",position:"relative",display:"flex","flex-direction":"column","align-items":"center","justify-content":"center"}},q={style:{margin:"0",color:"#ccc"}},E={style:{margin:"0",padding:"0","font-size":"0.8em",color:"rgba(255, 255, 255, 0.3)"}},K={key:0,style:{position:"absolute",right:"10px",bottom:"10px",display:"flex","flex-direction":"row",gap:"10px","justify-content":"center"}},X={style:{"font-size":"0.8em"}};function j(e,t,i,l,o,a){var s,d,r,c,u,m,p;const h=(0,n.g2)("q-btn");return(0,n.uX)(),(0,n.CE)("div",L,[(0,n.Lk)("img",{id:"thumbnail",src:null!==(d=null===(s=e.animal)||void 0===s?void 0:s.image_url)&&void 0!==d?d:void 0,style:{height:"100%",width:"350px","object-fit":"contain","background-color":"black"}},null,8,M),(0,n.Lk)("div",S,[(0,n.Lk)("h3",q,(0,b.v_)(null!==(c=null===(r=e.animal)||void 0===r?void 0:r.title)&&void 0!==c?c:"No animal selected"),1),(0,n.Lk)("h6",E,(0,b.v_)(null!==(m=null===(u=e.animal)||void 0===u?void 0:u.edition)&&void 0!==m?m:""),1),e.animal?((0,n.uX)(),(0,n.CE)("div",K,[(0,n.Lk)("span",X,(0,b.v_)(e.index)+" / "+(0,b.v_)(e.max),1),(0,n.bF)(h,{icon:"arrow_back_ios",size:"sm",padding:"none",flat:"",onClick:t[0]||(t[0]=t=>e.$emit("clickPrevious",t))}),(0,n.bF)(h,{icon:"arrow_forward_ios",size:"sm",padding:"none",flat:"",onClick:t[1]||(t[1]=t=>e.$emit("clickNext",t))}),(0,n.bF)(h,{icon:"casino",size:"sm",padding:"none",flat:"",onClick:t[2]||(t[2]=t=>e.$emit("clickRandomize",t))}),(0,n.bF)(h,{href:null===(p=e.animal)||void 0===p?void 0:p.wiki_link,padding:"none",target:"_blank",icon:"open_in_new",size:"sm",flat:""},null,8,["href"])])):(0,n.Q3)("",!0)])])}const N=(0,n.pM)({props:{animal:{type:Object},index:{type:Number,required:!0},max:{type:Number,required:!0}},emits:["clickRandomize","clickNext","clickPrevious"]}),O=(0,w.A)(N,[["render",j],["__scopeId","data-v-cd21aace"]]),P=O;F()(N,"components",{QBtn:A.A});const Q=(0,n.pM)({components:{AnimalFilter:U,AnimalCard:P},setup(){const e=(0,m.T)(),t=(0,u.KR)(e.getAll()),i=(0,u.KR)(0);return{animalRepo:e,animals:t,currentAnimalIndex:i}},computed:{currentAnimal(){return this.currentAnimalIndex,this.animals,this.animals[this.currentAnimalIndex]}},methods:{randomAnimal(){const e=Math.max(0,Math.floor(Math.random()*this.animals.length)-1);this.currentAnimalIndex=e>=this.currentAnimalIndex?e+1:e},nextAnimal(){this.currentAnimalIndex=(this.currentAnimalIndex+1)%this.animals.length},previousAnimal(){this.currentAnimalIndex--,this.currentAnimalIndex<0&&(this.currentAnimalIndex=this.animals.length-1)},updateFilter(e){this.animals=this.animalRepo.getAll().filter(e),this.randomAnimal()}}}),T=(0,w.A)(Q,[["render",c],["__scopeId","data-v-f16bc004"]]),$=T,B=(0,n.pM)({name:"IndexPage",components:{AnimalSelector:$}});var H=i(7716);const W=(0,w.A)(B,[["render",d]]),D=W;F()(B,"components",{QPage:H.A})},1412:(e,t,i)=>{e.exports=i.p+"img/screenshot_1.13ede8e9.jpg"}}]);